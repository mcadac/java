# Google Authenticator

1. The time-based one-time password algorithm RFC 6238
2. The QR code can be obtained using a generated URL, which relies on the Google
Chart HTTP API to create a compliant QR code encoding the necessary information.

## The two basic operations

1. **Credential creation:** 
    It is the process in which the server generates the shared secret and share it with the client. 
    So that he can store it and configurate its token, it is sending encoded into a QR code.
    
2. **Credential authentication:** 
    It is the process in which the server applies the TOTP algorithm to the shared secret and the token generated password 
    of the prover to dertermine its authenticity. 

## Credentials

1. The **GoogleAuthenticatorKey** class represents newly generated credentials, as returned by **createCredential**. 
    instances of this class contains the following data members:
    a. The shared secret key
    b. The verification code **verificationCode**. It is an optional feature which is not used by some clients such as
        Google Authenticator.
    c. A list of scratch codes **scratchCodes**. Scratch codes are randomly generated data that are optionally used as
        'recovery passwords' in case the token generator is not available. If the feature is implemented, sractch code should
        be usable only once.
        
## The otpauth scheme

1. Google Authenticator expects an URI conforming to the otpauth scheme to configure a new account. **otpauth://type/label?parameters**.

2. The URI is generated by the library using the information passed to the API methods. **Type** it is the AUTH type. **label** it is conforming to the following ABNF grammar: label = accountname / issuer (":" / "%3A") *"%20" accountname

3. The parameters. The library automatically adds the two required parameters **issuer** and **secret**. The secret is the shared secret, encoded in Base32 (RFC 5348).

4. **The issuer** this identifies the service provider associated with the account being created, an it must be URL-encoded.

## Password process

1. **Create**, it can be created specifying the secret or username and the time for which the password should be generated.

2. **Validate**, it can be do with the next values, the password to validate, the shared secret and the time-based moving factor.

3. The secret key can be provided in one of the supported representations: **BASE32** or **BASE64**


### References

https://github.com/wstrange/GoogleAuth

